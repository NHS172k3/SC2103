# Lab 2 Visual Study Guide - Diagrams & Flowcharts

**Visual learner? This guide provides diagrams and flowcharts for key concepts.**

---

## ğŸ“Š MEMORY ARCHITECTURE DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DISTRIBUTED RAM (64x8)                     â”‚
â”‚                                                              â”‚
â”‚   LUT0: [bit 0 of all 64 addresses] â—„â”€ stores d[0]         â”‚
â”‚   LUT1: [bit 1 of all 64 addresses] â—„â”€ stores d[1]         â”‚
â”‚   LUT2: [bit 2 of all 64 addresses] â—„â”€ stores d[2]         â”‚
â”‚   LUT3: [bit 3 of all 64 addresses] â—„â”€ stores d[3]         â”‚
â”‚   LUT4: [bit 4 of all 64 addresses] â—„â”€ stores d[4]         â”‚
â”‚   LUT5: [bit 5 of all 64 addresses] â—„â”€ stores d[5]         â”‚
â”‚   LUT6: [bit 6 of all 64 addresses] â—„â”€ stores d[6]         â”‚
â”‚   LUT7: [bit 7 of all 64 addresses] â—„â”€ stores d[7]         â”‚
â”‚                                                              â”‚
â”‚   Each LUT = 64x1 memory (6-bit address â†’ 2^6 = 64)        â”‚
â”‚   Total = 8 LUTs = 64x8 = 512 bits                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ DATA FLOW DIAGRAM

```
                    TIME-MULTIPLEXED INPUT
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      d_in[7:0] (Switches)        â”‚
        â”‚   Multi-purpose: DATA or ADDR    â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                    â”‚
   [When save_data=1]     [When write_en=1 or reading]
              â”‚                    â”‚
              â”‚                    â”‚
              â–¼                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  DATA   â”‚          â”‚ ADDRESS â”‚
        â”‚         â”‚          â”‚ [5:0]   â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
             â”‚                    â”‚
             â”‚ on clk edge        â”‚ continuous
             â–¼                    â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
      â”‚   reg_d     â”‚             â”‚
      â”‚  (8 FFs)    â”‚             â”‚
      â”‚  Register   â”‚             â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
             â”‚                    â”‚
             â”‚ data input         â”‚ address
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Lab2_mem   â”‚
              â”‚   (64x8 RAM) â”‚
              â”‚              â”‚
              â”‚  .d(reg_d)   â”‚ â—„â”€â”€ NOT d_in!
              â”‚  .a(d_in[5:0])â”‚
              â”‚  .we(write_en)â”‚
              â”‚  .spo(mem_d) â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
                  mem_d[7:0]
                     â”‚
                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚          â”‚
                     â–¼          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚    2:1 MULTIPLEXER   â”‚
              â”‚                      â”‚
              â”‚  show_reg=0 â†’ reg_d  â”‚
              â”‚  show_reg=1 â†’ mem_d  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                     d_out[7:0]
```

---

## â±ï¸ WRITE OPERATION TIMING DIAGRAM

```
Time:     0ns    10ns   20ns   30ns   40ns   50ns   60ns
          â”‚      â”‚      â”‚      â”‚      â”‚      â”‚      â”‚
clk:      â”   â”Œâ”€â”€â”˜   â”Œâ”€â”€â”˜   â”Œâ”€â”€â”˜   â”Œâ”€â”€â”˜   â”Œâ”€â”€â”˜   â”Œâ”€â”€â”˜
         â”€â”˜   â””â”€â”€â”   â””â”€â”€â”   â””â”€â”€â”   â””â”€â”€â”   â””â”€â”€â”   â””â”€â”€â”

d_in:     00h      15h      15h      01h      01h      01h
          â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

save_data:_______â”Œâ”€â”€â”€â”€â”€â”_____________________________
                 â””â”€â”€â”€â”€â”€â”˜

write_en: ________________________________â”Œâ”€â”€â”€â”€â”€â”_____
                                          â””â”€â”€â”€â”€â”€â”˜

reg_d:    00h      00h      15h      15h      15h      15h
          â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                        â–² Captured!

Memory[1]:undefinedundefinedundefinedundefinedundefined 15h
                                                        â–² Written!

Analysis:
- At t=30ns: save_data=1, clk edge â†’ reg_d captures 0x15
- At t=40ns: d_in changes to address 0x01
- At t=50ns: write_en=1, clk edge â†’ Memory[1] = reg_d = 0x15
```

---

## ğŸ• CLOCK DIVISION VISUALIZATION

```
100 MHz Clock (clk):
â”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œâ”â”Œ
â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””â”˜â””
Period = 10ns

                    â†“ Divide by 2^28 â†“

~0.37 Hz Slow Clock (sClk):
â”                                                                    â”Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Period = ~2.68 seconds

Human button press:
_______________â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”__________________
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    ~100ms duration

Button press spans:
- 100 MHz: 10,000,000 clock cycles âŒ UNUSABLE!
- 0.37 Hz: ~0.037 clock cycles     âœ“ Must hold until edge
```

---

## ğŸ”€ MULTIPLEXER OPERATION

```
              reg_d = 0x87
                 â”‚
                 â”œâ”€â”€â”€â”€â”
                 â”‚    â”‚
                 â–¼    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”
            â”‚   0          â”‚
show_reg â”€â”€>â”‚   MUX        â”‚â”€â”€â”€> d_out
            â”‚   1          â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                 â–²    â”‚
                 â”‚    â”‚
                 â”œâ”€â”€â”€â”€â”˜
                 â”‚
              mem_d = 0x15

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ show_reg â”‚ d_out  â”‚ Displayâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    0     â”‚ reg_d  â”‚  0x87  â”‚ â—„â”€â”€ Default (register view)
â”‚    1     â”‚ mem_d  â”‚  0x15  â”‚ â—„â”€â”€ Memory view
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Remember: show_reg=1 shows MEMORY (confusing name!)
```

---

## ğŸ“ˆ TWO-STEP WRITE PROCESS FLOWCHART

```
                    START
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Want to write 0x42   â”‚
          â”‚ to address 0x05?     â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ STEP 1: Stage Data   â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚ 1. Set switches to   â”‚
          â”‚    0x42 (data)       â”‚
          â”‚ 2. Press save_data   â”‚
          â”‚ 3. Hold until LED[7] â”‚
          â”‚    blinks            â”‚
          â”‚ 4. Release button    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”œâ”€â”€> reg_d = 0x42 âœ“
                     â”‚
                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ STEP 2: Write to Mem â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚ 1. Set switches to   â”‚
          â”‚    0x05 (address)    â”‚
          â”‚ 2. Press write_en    â”‚
          â”‚ 3. Hold until LED[7] â”‚
          â”‚    blinks            â”‚
          â”‚ 4. Release button    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”œâ”€â”€> Memory[0x05] = 0x42 âœ“
                     â”‚
                     â–¼
                   DONE

Why can't we do this in one step?
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Can't show data AND address at once â”‚
â”‚    on the same 8 switches!             â”‚
â”‚                                         â”‚
â”‚ âœ“ Register holds data while switches   â”‚
â”‚   change to show address                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ MODULE HIERARCHY

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Top Level                          â”‚
â”‚                     Lab2_imp.v                          â”‚
â”‚  (FPGA wrapper with board-specific modules)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   clkgen     â”‚   â”‚  Lab2_top    â”‚   â”‚ seven_seg â”‚  â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚           â”‚  â”‚
â”‚  â”‚ 100MHz       â”‚   â”‚ YOUR DESIGN  â”‚   â”‚ Display   â”‚  â”‚
â”‚  â”‚   â†“          â”‚   â”‚              â”‚   â”‚ Driver    â”‚  â”‚
â”‚  â”‚ 0.37Hz       â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚           â”‚  â”‚
â”‚  â”‚ (slow clock) â”œâ”€â”€>â”‚ â”‚ Lab2_mem â”‚ â”‚   â”‚ 7-seg     â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”‚ (64x8)   â”‚ â”‚   â”‚ output    â”‚  â”‚
â”‚  â”‚ LED[7]       â”‚   â”‚ â”‚ RAM IP   â”‚ â”‚   â”‚           â”‚  â”‚
â”‚  â”‚ indicator    â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”‚  reg_d   â”‚ â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”‚ (8 FFs)  â”‚ â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â”‚   MUX    â”‚ â”œâ”€â”€>â”‚           â”‚  â”‚
â”‚  â”‚              â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Design Principle:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lab2_top = Core logic (portable, testable)        â”‚
â”‚ Lab2_imp = FPGA-specific wrapper                  â”‚
â”‚                                                    â”‚
â”‚ Benefit: Can simulate Lab2_top independently!     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ TEST SEQUENCE VISUALIZATION

```
Test Sequence Timeline:

Time  Action              d_in  save_data  write_en  show_reg  reg_d  mem_d  d_out
â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€
 0    Reset               00h       0         0         0       00h    ??h    00h â—„â”€ Output 1
10    Release reset       00h       0         0         0       00h    ??h    00h
20    Set data            15h       0         0         0       00h    ??h    00h
30    Save data           15h       1         0         0       00h    ??h    00h
40    Release & addr      01h       0         0         0       15h â”€â”€ ??h    15h â—„â”€ Output 2
50    Write enable        01h       0         1         0       15h    ??h    15h
60    Release write       01h       0         0         0       15h    15h    15h
70    Set data            A3h       0         0         0       15h    ??h    15h
80    Save data           A3h       1         0         0       15h    ??h    15h
90    Release & addr      02h       0         0         0       A3h â”€â”€ ??h    A3h â—„â”€ Output 3
100   Write enable        02h       0         1         0       A3h    ??h    A3h
110   Release write       02h       0         0         0       A3h    A3h    A3h
120   Set data            87h       0         0         0       A3h    ??h    A3h
130   Save data           87h       1         0         0       A3h    ??h    A3h
140   Release save        87h       0         0         0       87h â”€â”€ ??h    87h â—„â”€ Output 4
150   Set address         01h       0         0         0       87h    15h    87h
160   Show memory         01h       0         0         1       87h    15h    15h â—„â”€ Output 5
170   Show register       01h       0         0         0       87h    15h    87h â—„â”€ Output 6

Memory Contents After Test:
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Addr â”‚ Value â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 00h  â”‚  ??h  â”‚ (undefined)
â”‚ 01h  â”‚  15h  â”‚ â—„â”€â”€ Written at t=50
â”‚ 02h  â”‚  A3h  â”‚ â—„â”€â”€ Written at t=100
â”‚ 03h  â”‚  ??h  â”‚ (undefined)
â”‚ ...  â”‚  ...  â”‚
â”‚ 3Fh  â”‚  ??h  â”‚ (undefined)
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜

Key Transitions:
â€¢ t=40: reg_d captures 0x15
â€¢ t=50: Memory[1] = 0x15
â€¢ t=90: reg_d captures 0xA3
â€¢ t=100: Memory[2] = 0xA3
â€¢ t=140: reg_d captures 0x87
â€¢ t=150: Address changes to 0x01, mem_d shows Memory[1] = 0x15
â€¢ t=160: MUX switches to show memory
â€¢ t=170: MUX switches back to show register
```

---

## ğŸ”´ COMMON MISTAKE COMPARISON

### âŒ MISTAKE 1: Wrong RAM Connection

```
WRONG:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ d_in   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                  â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Lab2_mem â”‚
            â”‚  .d()    â”‚  â—„â”€â”€ Connected to d_in
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Problem: Can't show data and address simultaneously!


CORRECT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ d_in   â”œâ”€â”€â”€â”€â”€â”€â”€â”€>â”‚ reg_d  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                        â”‚
                        â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Lab2_mem â”‚
                  â”‚  .d()    â”‚  â—„â”€â”€ Connected to reg_d
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Solution: Register stages data!
```

### âŒ MISTAKE 2: Wrong Clock in Wrapper

```
WRONG:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 100MHz clk  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                       â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ Lab2_top â”‚
                 â”‚  .clk()  â”‚  â—„â”€â”€ Too fast!
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Problem: Button press = 10 million cycles!


CORRECT:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 100MHz clk  â”œâ”€â”€â”€â”€â”€>â”‚ clkgen  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                          â”‚ sClk (0.37Hz)
                          â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Lab2_top â”‚
                    â”‚  .clk()  â”‚  â—„â”€â”€ Human-speed!
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Solution: Use slow clock for human interaction!
```

---

## ğŸ“Š RESOURCE COMPARISON

```
Distributed RAM (This Lab)          vs.         Block RAM
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Size: Small (< 1Kb)                            Size: Large (â‰¥ 18Kb)
Uses: LUT resources                            Uses: Dedicated blocks
Read: Asynchronous                             Read: Typically synchronous
Flexible sizing                                Fixed block sizes
Perfect for: Small memories                    Perfect for: Large memories

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ LUT-RAM â”‚                                  â”‚   BRAM   â”‚
         â”‚ 64x8    â”‚                                  â”‚  18Kb    â”‚
         â”‚ 512bits â”‚                                  â”‚ 18432bitsâ”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            8 LUTs                                      1 Block
            âœ“ Efficient                                âŒ Wasteful
              for 512b                                   for 512b
```

---

## ğŸ§  MEMORY MAP

Use this to visualize your quiz answers:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Why Questions (HOW/WHY)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Why reg_d? â†’ Time-multiplexing        â”‚
â”‚ â€¢ Why sClk? â†’ Human time scale          â”‚
â”‚ â€¢ Why depth 64? â†’ LUT architecture      â”‚
â”‚ â€¢ Why distributed? â†’ Small size         â”‚
â”‚ â€¢ Why unregistered? â†’ Async reads       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ What Questions (FACTS)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Clock freq? â†’ 100 MHz                 â”‚
â”‚ â€¢ Division? â†’ 2^28                      â”‚
â”‚ â€¢ LUTs? â†’ 8                             â”‚
â”‚ â€¢ Address bits? â†’ 6 ([5:0])             â”‚
â”‚ â€¢ Test output? â†’ 0,15,A3,87,15,87       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Code Questions (CORRECTNESS)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ .d(?) â†’ reg_d (not d_in)              â”‚
â”‚ â€¢ .clk(?) â†’ sClk (not clk)              â”‚
â”‚ â€¢ show_reg=1 â†’ mem_d                    â”‚
â”‚ â€¢ Testbench inputs â†’ reg                â”‚
â”‚ â€¢ Sequential logic â†’ <=                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Print this page for visual reference during study!**

Visual memory is powerful - picture these diagrams during your quiz! ğŸ“Š
